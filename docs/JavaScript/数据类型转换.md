---
title: 数据类型转换
date: 2021-11-10
sidebar: 'auto'
tags:
- 数据类型
categories:
- JavaScript
isShowComments: true
---

## **转化为对象**

-   `Object([value])`

## 转化为number

### 1. Number([value])

1.  一般用于隐式转换

2.  字符串 -> 数字

3.  1.  空字符串变为0
    2.  只要出现非有效数字字符结构就是NaN

4.  布尔 -> 数字

5.  Null -> 0

6.  undefine -> NaN

7.  Symbol -> 报错

### 2. parseInt/parseFloat([value])

​		首先会把[value]变为字符串，从字符串左侧第一个字符开始查找，直到找到一个非有效数字字符为止，把找到的结果转化为数字，一个都没找到，结果就是NaN

## 转化string

### 1. 规则

​	直接用引号包起来，除对象转化为字符串

### 2. 应用场景

-   toString
-   字符串/模板字符串拼接

### 3. 字符串拼接

1.  “+”左右两边，有一边出现了字符串或者部分对象，则都是按照字符串拼接处理
2.  “+”有一边出现了对象
    1.  {} + n -> 10 : 把左侧的{}当作代码块，不参与运算，运算的只有+n
    2.  n + {} -> “10 + [object object]”; 字符串拼接
    3.  不是所有对象都是字符串拼接
3.  1.  1.  先调取对象的Symbol.toPrimitive属性值，如果没有这个属性
        2.  再去调取对象的valueOf获取原始值，如果不是原始值
        3.  再去调用对象的toString转化为字符串，[如果想转化为数字，则还会调用Number处理]



问： 让`10 + {x:10}`的值为20？为什么？

```js
let obj = {
    x : 10,
    [Symbol.toPrimitive](hint) {
        return this.x;
    }
}
```

答：

​	对于“+”一边为对象，有一下规则：

1.   先却调用对象的`Symbol.toPrimitive`属性值
2.   如果没有以上属性，则去调用对象的`valueOf`获取原始值
3.   如果不是原始值，再去调用对象的`toString`转换为字符串

### 4. 面试

#### 4.1  {} 和 [] 的 valueOf 和 toString 的结果是什么？

![image-20211114135156944](https://gitee.com/ljcdzh/my_pic/raw/master/img/202111141352050.png)



## 转化boolean

### 规则

​	只有“0、null、NaN、undefined、空字符串”会变成false，其余都是转化为true

### 转换方法

1.  Boolean([value])
2.  !![value]
3.  ![value]转换为布尔类型取反

