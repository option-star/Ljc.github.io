---
title: 数据类型有哪些？
date: 2021-11-10
sidebar: 'auto'
tags:
- 数据类型
- JS
categories:
- JavaScript
isShowComments: true
---



## 1. 原始值类型

### 1.1 number

#### 1.1.1 NaN

问： NaN === NaN? 为什么？

答： 不相等，因为NaN表示的意思是不是一个有效数字，包含的东西太多，所以默认不想等，所以不能基于等于NaN来检测是否为有效数字。



问： 如何检测是否是有效数字？

答：

1.   `isNaN([value])`： 默认隐式转换为数字类型`[Number(value)]`，再校验是否为有效数字，如果是有效数字，返回false，不是有效数字返回true。
2.   `Object.is(NaN, NaN) `: true， 表示是有效数字。



问： typeof NaN的结果是什么？

答：

​	NaN 意指“不是一个数字”（not a number），NaN 是一个“警戒值”（sentinel value，有特殊用途的常规值），用于指出数字类型中的错误情况，即“执行数学运算没有成功，这是失败后返回的结果”。typeof NaN; // "number"



问：isNaN和Number.isNaN函数的区别？

答：

- isNaN默认会进行隐式转换为数值，任何不能被转换为数值的值都会返回true.因此非数字传入也会返回true，会影响NaN的判断。

- 函数Number.isNaN会首先判断传入参数是否为数字，如果是数字再继续判断是否为NaN，这种方法对于NaN的判断更准确。

#### 1.1.2 Infinity（无穷大的值）

#### 1.1.3 面试

##### 1.  如何将浮点数点左边的数每三位添加一个逗号，如 12000000.11 转化为『12,000,000.11』?

```js
// 方法一
function format(number) {
  return number && number.toString().replace(/(?!^)(?=(\d{3})+\.)/g, ",");
}
```

![image-20211114141745355](https://gitee.com/ljcdzh/my_pic/raw/master/img/202111141417400.png)

```js
// 方法2
function format(number) {
  return Intl.NumberFormat().format(number)
}
```

![image-20211114141910903](https://gitee.com/ljcdzh/my_pic/raw/master/img/202111141419940.png)

```js
// 方法3
function format(number) {
  return number.toLocaleString('en')
}
```

![image-20211114142129029](https://gitee.com/ljcdzh/my_pic/raw/master/img/202111141421080.png)

### 1.2 string

### 1.3 boolean

### 1.4 null

#### null和undefined的区别？

- 首先 Undefined 和 Null 都是基本数据类型，这两个基本数据类型分别都只有一个值，就是 undefined 和 null。
- undefined 代表的含义是未定义，null 代表的含义是空对象。一般变量声明了但还没有定义的时候会返回 undefined，null主要用于赋值给一些可能会返回对象的变量，作为初始化。
- undefined 在 js 中不是一个保留字，这意味着我们可以使用 undefined 来作为一个变量名，这样的做法是非常危险的，它会影响我们对 undefined 值的判断。但是我们可以通过一些方法获得安全的 undefined 值，比如说 void 0。
- 当我们对两种类型使用 typeof 进行判断的时候，Null 类型化会返回 “object”，这是一个历史遗留的问题。当我们使用双等号对两种类型的值进行比较时会返回 true，使用三个等号时会返回 false。

### 1.5 undefined

#### undefined与undeclared的区别？

- 声明但未赋值的变量为undefined 。未声明的变量为undeclared。
- 对于 undeclared 变量的引用，浏览器会报引用错误，如 ReferenceError: b is not defined 。但是我们可以使用 typeof 的安全防范机制来避免报错，因为对于 undeclared（或者 not defined ）变量，typeof 会返回 "undefined"。

#### 如何获取安全的undefined值

​	undefined是一个标识符，所以可以被当做变量来使用和赋值，但是这样会影响undefined的正常判断。

​	表达式`void [value]`没有返回值，因此返回的结果是undefined。void并不改变表达式的结果，只是让表达式不返回值。

​	可用`void 0`来获得undefined。

### 1.6 symbol(唯一值)

问： 什么地方会用到唯一值？

答：

1.   对象的唯一属性
2.   宏观管理标识：保证标识的唯一性（vuex/redux）：解决可能出现的全局变量冲突的问题。
3.   JS底层（提供了很多方法）

### 1.7 bigint

问：为什么存在bigint？

答： JS中存在一个最大安全数，若超过这个数值进行运算就不再准确。可能引起一些问题，例如服务器中LongInt长整型这种值，如果这些值返回给客户端，则客户端无法进行有效处理。

## 2. 对象类型

### 2.1 标准对象类型

-   Object

### 2.2 标准特殊对象

-   Array
-   Regexp
-   Date
-   Error
-   Math
-   ArrayBuffer
-   DataView
-   Set
-   Map
-   …

### 2.3 非标准特殊对象

基于构造函数创建出来的原始值对象类型格式，类型属于对象类型。

-   Number
-   String
-   Boolean
-   Symbol
-   Bigint

### 2.4 可调用对象（实现了call方法）

-   function

### 2.5 面试

#### 1. 什么是假值对象？

​	浏览器在某些特定情况下，在常规JavaScript语法基础上自己创建了一些外来值，这些就是“假值对象”。假值对象与普通对象都有属性，但将它们强制类型转换为布尔值时，结果为false.

​	常见例子为document.all，它是一个类数组对象，包含了页面上的所有对象，由DOM提供给Javascript程序使用。

![image-20211114140207877](https://gitee.com/ljcdzh/my_pic/raw/master/img/202111141402919.png)

## 额外知识： 堆栈

### 简介

数据分为原始数据类型和引用类型：

-   栈：原始数据类型（Undefined、Null、Boolean、Number、String）
-   堆：引用数据类型（对象、数组和函数）

### 堆栈区别

-   原始数据类型直接存储在栈（stack）中的简单数据段，占据空间小、大小固定，属于被频繁使用数据，所以放入栈中存储；
-   引用数据类型存储在堆（heap）中的对象，占据空间大、大小不固定。如果存储在栈中，将会影响程序运行的性能；引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。

### 数据结构中堆栈

-   在数据结构中，栈中数据的存取方式为先进后出。
-   堆是一个优先队列，是按优先级来进行排序的，优先级可以按照大小来规定。

### 操作系统中堆栈

-   栈区内存由编译器自动分配释放，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的栈。 
-   堆区内存一般由开发着分配释放，若开发者不释放，程序结束时可能由垃圾回收机制回收。   

