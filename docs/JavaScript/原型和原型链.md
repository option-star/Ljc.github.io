---
title: 原型和原型链
date: 2021-11-10
sidebar: 'auto'
tags:
- 原型
categories:
- JavaScript
isShowComments: true
---



## 1. 原型

​	大部分“函数数据类型”的值都具备“prototype(原型/显式原型)”属性，属性值本身是一个对象，浏览器会为该对象开辟一个堆内存，用来存储当前类所属实例可以调用的公共的属性和方法，浏览器默认开辟的这个堆内存中[原型对象]有一个默认的属性“construtor(构造函数/构造器)”，属性值是当前函数/类本身。

## 2. 函数类型

1.  普通函数（实名/匿名函数）
2.  箭头函数
3.  构造函数/类
4.  生成器函数Generator
5.  ...

## 3. 不具备prototype的函数

1.  箭头函数
2.  基于ES6给对象某个成员赋值函数值的快捷操作

```js
// 箭头函数
let fn = () => {}

// 成员赋值
let obj = {
    fn1 : function() {}
    fn2 () {
        // 快捷写法
    }
}
dir(obj.fn1) // 有prototype
dir(obj.fn2) // 无prototype 

class Fn{
    fn() {} // 这样也不具备prototype属性
}
```

## 4. 原型链

​	每一个“对象数据类型值”都具备一个属性“__proto__（原型链/隐式原型）”，属性值指向“自己所属类的原型prototype”



## 5. 原型链机制

​	首先访问自己的私有属性，如果私有属性中是存在的，则直接使用私有的，如果访问成员在私有属性中没有，默认会基于__proto__找到所属类prototype上的属性/方法。如果所属类的prototype上没有，则继续基于prototype.__proto__向上查找，一直找到Object.prototype为止,这种成员调用的查找机制，称为“原型链”机制。

## 6. 图解构造数组原型和原型链

![img](https://gitee.com/ljcdzh/my_pic/raw/master/img/202111102155075.png)

