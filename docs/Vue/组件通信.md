---
title: 组件通信
date: 2021-11-11
sidebar: 'auto'
tags:
- Vue
categories:
- Vue
isShowComments: true
---



## 1. [props](https://cn.vuejs.org/v2/guide/components-props.html#Prop-%E7%B1%BB%E5%9E%8B)/[$emit](https://cn.vuejs.org/v2/api/#vm-emit)



### 2.1 父组件向子组件传值

#### **原理**

-   父组件通过[v-bind](https://cn.vuejs.org/v2/api/#v-bind)传递值给子组件
-   子组件通过props接收父组件的信息

#### **父组件**

```js
<template>
  <div class="Father">
    我是父组件；
    <Child :info="info"></Child>
  </div>
</template>

<script>
import Child from "./component";
export default {
  components: {
    Child,
  },
  data() {
    return {
      info: "父组件的信息",
    };
  },
};
</script>
```

#### **子组件**

```js
<template>
  <div class="Child">我是子组件：{{ info }}</div>
</template>

<script>
export default {
  name: "Child",
  props: {
    info: {},
  },
  data() {
    return {};
  },
};
</script>
```

#### **效果**

![image-20211111210657148](https://gitee.com/ljcdzh/my_pic/raw/master/img/202111112107041.png)

### 2.2 子组件向父组件传值

#### 原理

-   父组件通过`v-on`传递方法给子组件
-   子组件通过`v-emit`调用父组件的方法，通过传递参数，进行向父组件传值。

#### 父组件

```js
<template>
  <div class="Father">
    我是父组件: {{ info }}
    <Child v-on:FatherMethod="FatherMethod"></Child>
  </div>
</template>

<script>
import Child from "./component";
export default {
  components: {
    Child,
  },
  data() {
    return {
      info: "",
    };
  },
  methods: {
    FatherMethod(info) {
      this.info = info;
    },
  },
};
</script>
```

#### 子组件

```js
<template>
  <div class="Child">我是子组件</div>
</template>

<script>
export default {
  name: "Child",
  data() {
    return {
      info: "子组件信息",
    };
  },
  created() {
    // 通过调用父组件的方法，向父组件传值
    this.$emit("FatherMethod", this.info);
  },
};
</script>
```

#### 效果

![image-20211111213158174](https://gitee.com/ljcdzh/my_pic/raw/master/img/202111112138872.png)



## 2. [`$children`](https://cn.vuejs.org/v2/api/#vm-children)/[`$parent`](https://cn.vuejs.org/v2/api/#parent)



### 父组件





### 子组件